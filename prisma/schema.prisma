generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                    Int       @id @default(autoincrement())
  firstName             String?   @db.VarChar(50)
  lastName              String?   @db.VarChar(50)
  email                 String    @unique @db.VarChar(100)
  password              String?   @db.VarChar(255)
  phoneNumber           String?   @db.VarChar(20)
  countryCode           String?   @db.VarChar(10)
  image                 String?   @db.VarChar(255)
  
  // Company & Location
  company               String?   @db.VarChar(100)
  city                  String?   @db.VarChar(50)
  country               String?   @db.VarChar(50)
  language              String?   @default("en") @db.VarChar(10)
  
  // Role & Status
  role                  String    @default("User") @db.VarChar(20)
  activeProfile         Boolean   @default(false)
  isProfileComplete     Boolean   @default(false)
  isDeleted             Boolean   @default(false)
  
  // Authentication
  otp                   String?   @db.VarChar(6)
  refreshToken          String?   @db.Text
  
  // Subscription
  subscriptionType      String?   @db.VarChar(20)
  subscriptionStatus    String?   @db.VarChar(50)
  subscriptionId        String?   @db.VarChar(100)
  subscriptionDurationType String? @db.VarChar(20)
  subscriptionStartDate DateTime? @db.Timestamp(6)
  subscriptionEndDate   DateTime? @db.Timestamp(6)
  subscriptionUpdatedAt DateTime? @db.Timestamp(6)
  
  // Payment
  stripeCustomerId      String?   @db.VarChar(100)
  paymentId             String?   @db.VarChar(100)
  
  // Timestamps
  createdAt             DateTime  @default(now()) @db.Timestamp(6)
  updatedAt             DateTime  @updatedAt @db.Timestamp(6)
  
  // Relations
  accountChatHistory              account_chat_history[]
  agentPhoneNumbers               agent_phone_numbers[]
  appointmentSetter               appointment_setter[]
  content                         content[]
  contentCreationChatHistory      content_creation_chat_history[]
  cooChatHistory                  coo_chat_history[]
  customerSupportChatHistory      customer_support_chat_history[]
  emailCampaign                   email_campaign[]
  hrChatHistory                   hr_chat_history[]
  instagramConnectionDetails      instagram_connection_details[]
  teamInvites                     teamInvite[]
  knowledgeAttachment             knowledge_attachment[]
  knowledgeBase                   knowledge_base[]
  linkedinConnectionDetails       linkedin_connection_details[]
  linkedinPost                    linkedin_post[]
  phoneAgent                      phone_agent[]
  phoneCampaign                   phone_campaign[]
  phoneCredits                    phone_credits[]
  scheduledContent                scheduled_content[]
  seoChatHistory                  seo_chat_history[]
  smartCustomerSupportChatbot     smart_customer_support_chatbot[]
  teams                           team[]
  teamMembers                     teammembers[]
  transactionHistory              transactionHistory[]
  whatsappConnectionDetails       whatsapp_connection_details[]
  xPost                           x_post[]
  youtubeScript                   youtube_script[]

  @@index([email])
  @@index([isDeleted])
  @@index([subscriptionStatus])
  @@map("users")
}

model PasswordResetToken {
  id        Int      @id @default(autoincrement())
  email     String   @db.VarChar(100)
  token     String   @unique @db.VarChar(255)
  expiresAt DateTime @db.Timestamp(6)
  createdAt DateTime @default(now()) @db.Timestamp(6)

  @@index([email])
  @@index([token])
  @@index([expiresAt])
  @@map("password_reset_tokens")
}